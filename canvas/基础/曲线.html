<!--
 * @Author: YXS
 * @Date: 2020-07-29 11:11:15
 * @LastEditors: YXS
 * @LastEditTime: 2020-07-29 16:54:27
 * @Description: 曲线
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    canvas {
      border: 1px solid steelblue;
    }
  </style>
</head>

<body>
  <!-- 中间文字部分只有在浏览器版本过低，不支持 canvas 的情况下才会展示 -->
  <canvas id="mycanvas" width="1000px" height="1000px">
    您的浏览器不支持 canvas
  </canvas>
  <script>
    var canvas = document.getElementById('mycanvas')
    var ctx = canvas.getContext('2d')
    ctx.strokeStyle = '#FBB'
    // ctx.fillStyle = '#FEE'
    ctx.lineWidth = 10
    var str = '顺时针:'
    ctx.font = '20px sans-serif'
    ctx.textBaseline = 'top'

    /**
     * @Author: YXS
     * @Description: 圆弧
     */
    ctx.save()
    ctx.fillText(str, 10, 20)
    ctx.arc(140, 60, 50, Math.PI, Math.PI * 2, false)
    ctx.stroke()
    ctx.restore()

    ctx.save()
    ctx.beginPath()
    str = '逆时针:'
    ctx.fillText(str, 10, 90)
    ctx.arc(140, 70, 50, Math.PI, Math.PI * 2, true)
    ctx.stroke()
    ctx.restore()

    /**
     * @Author: YXS
     * @Description: 贝塞尔曲线
     */
    ctx.save()
    ctx.fillStyle = '#FBB'
    ctx.beginPath()
    ctx.moveTo(180, 180)
    ctx.quadraticCurveTo(80, 150, 80, 200)
    ctx.quadraticCurveTo(80, 250, 180, 300)
    ctx.fill()
    ctx.beginPath()
    ctx.moveTo(180, 180)
    ctx.quadraticCurveTo(280, 150, 280, 200)
    ctx.quadraticCurveTo(280, 250, 180, 300)
    ctx.fill()
    ctx.restore()

    ctx.save()
    ctx.beginPath()
    ctx.moveTo(180, 380)
    ctx.bezierCurveTo(80, 350, 80, 400, 180, 500)
    ctx.bezierCurveTo(180, 500, 350, 340, 180, 380)
    ctx.stroke()
    ctx.restore()
    /**
     * @Author: YXS
     * @Description: 动画
     */
    ctx.save()
    ctx.beginPath()
    var x = 0, y = 600, dir = 1, isMouseInRect;
    ctx.fillStyle = '#FBB'
    canvas.onmousemove = function (e) {
      var mouseX = e.offsetX;
      var mouseY = e.offsetY;
      if (mouseX > x && mouseX < x + 50 && mouseY > y && mouseY < y + 50) {
        isMouseInRect = true
      } else {
        isMouseInRect = false
      }
    }
    setInterval(function () {
      if (!isMouseInRect) {
        x += 10 * dir
      }

      if (x + 50 > canvas.width) {
        dir = -1
      } else if (x <= 0) {
        dir = 1
      }
      ctx.clearRect(0, 600, canvas.width, canvas.height)
      ctx.fillRect(x, y, 50, 50)
    }, 100)
    ctx.restore()
  </script>
</body>

</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
    /**
     * @Author: YXS
     * @Description: promise 加载图片
     */
     
     function loadImg(src) {
         return new Promise((resolve, reject) => {
             const img = document.createElement('img')
             img.onload = () => {
                 resolve(img)
             }
             img.onerror = () => {
                 const err = new Error(`图片加载失败 ${src}`)
                 reject(err)
             }
             img.src = src
         })
     }
     const url1 = 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSYLdCiAcioji50WBCXLg7B5HBq1Di3YJop4Q&usqp=CAU'
     const url2 = 'https://pic.zhimg.com/v2-5d14881b10f6be7dbf0a992ae271179a_b.jpg'
     loadImg(url1).then(img => {
         console.log('then one ——', img.width)
         return loadImg(url2)
     }).then(img2 => {
         console.log('then two ——', img2.width)
     }).catch(err => {
         console.log('catch ——',err)
     }).finally((res) => {
         console.log('finally ——', res)
     })
    //  const loadImg1 = loadImg(url1).then(img => {
    //     console.log('then one ——', img.width)
    //  }).catch(err => {
    //     console.log('catch one ——',err)
    //  }).finally((res) => {
    //      console.log('finally one——', res)
    //  })
    //  console.log('loadImg1 ————：', loadImg1)

    //  const loadImg2 = loadImg(url2).then(img => {
    //     console.log('then two ——', img.width)
    //  }).catch(err => {
    //     console.log('catch two ——',err)
    //  }).finally((res) => {
    //      console.log('finally two ——', res)
    //  })
    //  console.log('loadImg2 ————：', loadImg2)
    </script>
</body>
</html>